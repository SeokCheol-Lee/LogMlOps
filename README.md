# **유저 이탈률 예측 시스템**

- **개발기간**: 24.10 ~ 24.10

## 프로젝트 개요

본 프로젝트는 사용자의 이탈률을 예측하여 비즈니스 의사결정에 기여하는 모델을 개발하고, 해당 모델을 실시간으로 배포 및 모니터링하는 시스템을 구축하는 것을 목표로 진행되었습니다. 사용자 로그 데이터를 수집하고 분석하여, 예측 모델을 통해 잠재적 이탈 사용자들을 식별하고, 이를 기반으로 사용자 유지 전략을 수립할 수 있도록 돕는 것이 핵심입니다.

## 시스템 아키텍처
![image](https://github.com/user-attachments/assets/82428786-b0fa-48e2-80af-7ead04cdd59b)


### 데이터 수집 및 전처리

- **Spring Web 애플리케이션**을 통해 사용자 행동 로그 데이터를 수집하였습니다.
- **Filebeat**와 **Logstash**를 사용해 데이터를 수집하고 전처리하여 **Elasticsearch**에 저장하는 파이프라인을 구축하였습니다.
- **Elasticsearch**를 통해 로그 데이터를 통합 관리하고, 신속하게 검색 및 조회할 수 있도록 하였습니다.

### 모델 학습 및 배포

- **머신러닝 모델**은 **크론잡(Cronjob)**을 통해 주기적으로 학습되었습니다.
- 학습된 모델은 **MinIO**를 사용해 저장 및 버전 관리를 수행하였고, 모델은 **API** 형태로 서빙되어 비즈니스 로직에 사용될 수 있도록 하였습니다.

### 시스템 모니터링 및 시각화

- **Prometheus**와 **Grafana**를 사용하여 시스템의 성능 및 상태를 실시간으로 모니터링하였습니다.
- 모델 성능, API 호출 빈도 등을 시각화하여 운영 중 발생할 수 있는 문제를 빠르게 대응할 수 있도록 하였습니다.

### 성능 및 최적화

- **FastAPI**를 기반으로 서버를 구성하여 예측 결과의 빠른 제공을 목표로 성능 최적화를 진행하였습니다.
- **Apache JMeter**를 사용해 부하 테스트를 수행하고, **Minikube**를 통해 오토스케일링을 구현하여 고부하 상황에서도 안정적인 성능을 유지하였습니다.

## 모델 테스트 및 평가

1. **Synthetic Data Generation**: 임의의 사용자 ID와 행동 타입을 기반으로 30일 간의 랜덤 행동 데이터를 생성하여 모델 기능과 예측 성능을 실험.

2. **데이터 전처리 및 피처 엔지니어링**: 행동 로그를 기반으로 사용자 행동 횟수, 행동 타입별 횟수 등의 피처를 추출하고 정규화하였습니다.

3. **모델 학습 및 예측**: **로지스틱 회귀(Logistic Regression)** 모델을 사용하였으며, **train_test_split**을 사용하여 학습과 검증을 동시에 수행.

4. **모델 저장 및 배포**: **MinIO**에 저장된 모델을 API 형태로 서빙하여 예측 기능을 제공.


## 주요 성과

- **실시간 유저 로그 수집 및 분석 파이프라인** 구축.
- 유저 이탈 예측을 위한 **머신러닝 모델**을 개발하고, **자동화된 크론잡과 KServe**를 통해 주기적 학습 및 실시간 서빙을 구현.
- **Prometheus와 Grafana**를 활용해 시스템 상태와 모델 성능을 시각화하여 안정적인 운영을 가능하게 함.

![image](https://github.com/user-attachments/assets/229ad362-9c3c-454c-855d-79812fca7cee)

- **MinIO를 활용한 모델 버전 관리**를 통해 모델의 지속적인 업데이트와 리스크 관리를 용이하게 함.
![image](https://github.com/user-attachments/assets/428c244a-68be-413b-b65e-3f068c5935e2)

## 사용 기술

- **백엔드**: Spring Boot, FastAPI
- **데이터 수집**: Filebeat, Logstash, Elasticsearch
- **모델 학습 및 배포**: Python, Scikit-learn, KServe, MinIO
- **모니터링**: Prometheus, Grafana
- **기타**: Docker, Kubernetes, Cronjob

## 백엔드 및 MLOps 구축 경험

이번 프로젝트에서는 **백엔드 개발**과 **MLOps** 파이프라인 구축 역량을 활용하여 머신러닝 모델의 학습, 서빙 및 모니터링을 위한 전체 파이프라인을 구축하였습니다. **Spring Boot**와 **FastAPI**를 사용해 확장 가능한 백엔드 시스템을 설계하고, **ElasticSearch**로 데이터 수집 구조를 구현하였습니다.

또한, **KServe**를 사용한 모델 서빙과 **MinIO**를 통한 모델 버전 관리로 모델의 지속적 개선과 안정적 배포를 가능하게 했습니다. **Prometheus**와 **Grafana**를 통한 실시간 모니터링을 통해 신속한 문제 대응이 가능하도록 하였고, **Kubernetes** 기반의 자동화를 실현하여 운영의 효율성을 극대화했습니다.

## 프로젝트를 진행하면서 느낀 점

본 프로젝트를 통해 데이터 수집, 모델 학습, 배포, 모니터링까지 전 과정을 경험하면서 **MLOps 구축 역량**과 **서비스 기획력** 측면에서 많은 성장을 이루었습니다. 특히, **랜덤 데이터**로 학습시키는 과정에서 실제 데이터 사용의 중요성을 깨달았습니다.

이 경험을 통해 향후 실제 데이터를 활용한 모델 개발과 확장 가능한 시스템 구축에 대한 자신감을 가지게 되었으며, 사용자 이탈을 사전에 예측하고 대응할 수 있는 데이터 중심의 의사결정 지원 시스템을 성공적으로 구현하였습니다.

